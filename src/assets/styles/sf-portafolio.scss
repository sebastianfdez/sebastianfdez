sf-portafolio {
  @extend .flex-div, .column;
}

sf-carousel {
  @extend .flex-div, .column, .full-width;
  $slides: 8;
  $pi: 3.141592653589793;
  $theta: 2 * $pi / $slides;
  $slide-height: 300px;
	perspective: 300px;
  height: $slide-height;

  .sf-carousel-container {
		transform-style: preserve-3d;
    height: $slide-height;
    .sf-carousel-slide {
      width: 400px;
      height: $slide-height;
      background-color: #FFFFFF;
      margin: 10px;
      position: absolute;
      left: calc(50% - 200px);
      top: 0;
      transform-origin: 50% 50% (-1000px);
      cursor: pointer;
      // backface-visibility: hidden;
			@for $i from 1 through $slides {
				&:nth-child(#{$i}) {
					--scaleStart: #{($i - 1) * $theta}rad;
					--scaleEnd: #{($i - 1) * $theta - 2 * $pi}rad;
          animation: rotate 20s linear infinite;
				}
			}
      &::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(to right, #b47dcd, #e878a2, #eb85ab);
        z-index: 1;
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.5s ease-in-out;
      }
      
      &:hover::before {
        transform: scaleX(1);
      }
    }
  }
  &:hover {
    .sf-carousel-slide {
			@for $i from 1 through $slides {
				&:nth-child(#{$i}) {
          animation-play-state: paused;
				}
			}
    }
  }
}

@keyframes rotate {
  0% {
    transform: rotateY(var(--scaleStart));
  }
  100% {
    transform: rotateY(var(--scaleEnd));
  }
}